<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sri Rama Koti</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="icon-192.png" type="image/x-icon" />
</head>
<body>

  <!-- Rama Icon Hero -->
  <img src="icon-512.png" alt="Sri Rama Koti Lord Rama Icon" class="sriRamaIcon" />

  <!-- Main Heading -->
  <h1>üïâ Sri Rama Koti</h1>

  <!-- Navigation Bar -->
  <nav id="menuBar" aria-label="Main menu">
    <button id="menuAbout" disabled>About Rama</button>
    <button id="menuInsert">Write RamaKoti</button>
    <button id="menuTools">Tools Used</button>
    <button id="menuInstall" style="display: none;">Install App</button>
  </nav>

  <!-- Install App Popup -->
  <div id="installPopup" class="install-popup" role="dialog" aria-live="polite" aria-label="Install application prompt">
    <span id="installText">Install this app for a better experience.</span>
    <button id="installPopupBtn" aria-label="Install Application">Install</button>
    <button class="close-popup" id="closeInstallPopup" aria-label="Close install prompt">√ó</button>
  </div>

  <!-- About Section -->
  <section id="aboutPage" role="region" aria-live="polite" aria-atomic="true" tabindex="0">
    <h2>About Sri Rama</h2>
    <p>‡∞∞‡∞æ‡∞Æ‡∞æ‡∞Ø ‡∞∞‡∞æ‡∞Æ‡∞≠‡∞¶‡±ç‡∞∞‡∞æ‡∞Ø ‡∞∞‡∞æ‡∞Æ‡∞ö‡∞Ç‡∞¶‡±ç‡∞∞‡∞æ‡∞Ø ‡∞µ‡±á‡∞ß‡∞∏‡±á . ‡∞∞‡∞ò‡±Å‡∞®‡∞æ‡∞•‡∞æ‡∞Ø ‡∞®‡∞æ‡∞•‡∞æ‡∞Ø ‡∞∏‡∞ø‡∞§‡∞æ‡∞Ø</p>
    <p>Lord Sri Rama is the seventh avatar of Vishnu, known for his righteousness and virtue.</p>
    <h3>Spiritual Significance</h3>
   <p>The epic Ramayana narrates his life, emphasizing dharma, devotion, and moral excellence. Rama's virtue inspires millions of devotees worldwide.</p>

    <div>
      <h3>What is Rama Koti?</h3>
      <p>Rama Koti is a devotional practice where devotees write the name of Lord Rama one crore times, symbolizing their devotion and seeking blessings.</p>
      <p>It is believed that this practice purifies the mind and soul, bringing peace and spiritual fulfillment.</p>
      <p>In Telugu, it is known as "‡∞∞‡∞æ‡∞Æ ‡∞ï‡±ã‡∞ü‡∞ø" and in Hindi as "‡§∞‡§æ‡§Æ ‡§ï‡•ã‡§ü‡§ø".</p>
      <p>Devotees often write "‡∞ú‡±à ‡∞∂‡±ç‡∞∞‡±Ä ‡∞∞‡∞æ‡∞Æ‡±ç" or "‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ‡§É" as part of this practice, which translates to "Victory to Lord Rama".</p>
      <p>Rama Koti is a way to express love and devotion towards Lord Rama, and it is performed with great reverence in many Hindu households.</p>
      <p>It is said that writing Rama Koti brings peace, prosperity, and spiritual upliftment to the devotee.</p>
      <p>Many people also believe that it helps in overcoming obstacles and achieving success in life through the blessings of Lord Rama.</p>
      <p>Overall, Rama Koti is a beautiful expression of faith and devotion that connects devotees with the divine essence of Lord Rama.</p>  
      <p>For more information, you can visit the <a href="https://en.wikipedia.org/wiki/Rama_Koti" target="_blank" rel="noopener noreferrer">Rama Koti Wikipedia page</a>.</p>
       </div>
  </section>

  <!-- Insert Section -->
  <section id="insertPage" role="region" aria-live="polite" aria-atomic="true" tabindex="0" hidden>
    <h2>RAMA KOTI - Write 1 Crore Times</h2>
   <p>Writing Rama Koti means writing Lord Rama‚Äôs name one crore (10 million) times. It is a powerful spiritual practice that brings peace, focus, and positive energy. Traditionally done by hand, now you can write Rama Koti digitally, making it faster and easier while preserving the same blessings. Simply start the process and let your device help you complete this sacred journey.
   </p>
   <p>‡∞∞‡∞æ‡∞Æ ‡∞ï‡±ã‡∞ü‡∞ø ‡∞∞‡∞æ‡∞Ø‡∞°‡∞Ç ‡∞Ö‡∞Ç‡∞ü‡±á ‡∞∞‡∞æ‡∞Æ‡±Å‡∞°‡∞ø ‡∞®‡∞æ‡∞Æ‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡±ã‡∞ü‡∞ø (10 ‡∞Æ‡∞ø‡∞≤‡∞ø‡∞Ø‡∞®‡±ç) ‡∞∏‡∞æ‡∞∞‡±ç‡∞≤‡±Å ‡∞∞‡∞æ‡∞Ø‡∞°‡∞Ç. ‡∞á‡∞¶‡∞ø ‡∞∂‡∞æ‡∞Ç‡∞§‡∞ø, ‡∞¶‡±É‡∞∑‡±ç‡∞ü‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡∞æ‡∞®‡±Å‡∞ï‡±Ç‡∞≤ ‡∞∂‡∞ï‡±ç‡∞§‡∞ø‡∞®‡∞ø ‡∞§‡±Ü‡∞ö‡±ç‡∞ö‡±á ‡∞Ü‡∞ß‡±ç‡∞Ø‡∞æ‡∞§‡±ç‡∞Æ‡∞ø‡∞ï ‡∞∏‡∞æ‡∞ß‡∞®. ‡∞∏‡∞æ‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞æ‡∞Ø‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞ö‡±á‡∞§‡∞ø‡∞§‡±ã ‡∞ö‡±á‡∞∏‡±á ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞∞‡∞æ‡∞Æ ‡∞ï‡±ã‡∞ü‡∞ø‡∞®‡∞ø ‡∞°‡∞ø‡∞ú‡∞ø‡∞ü‡∞≤‡±ç‚Äå‡∞ó‡∞æ ‡∞µ‡±ç‡∞∞‡∞æ‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å, ‡∞µ‡±á‡∞ó‡∞Ç‡∞ó‡∞æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡±Å‡∞≤‡∞≠‡∞Ç‡∞ó‡∞æ.</p>
    <label for="insertText"><b>Rama Koti Phrase</b></label>
    <textarea id="insertText" rows="3" aria-label="Rama Koti Phrase">JAI SRI RAM| ‡∞ú‡±à ‡∞∂‡±ç‡∞∞‡±Ä ‡∞∞‡∞æ‡∞Æ‡±ç| ‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ‡§É</textarea>
    
    <div id="buttonsBar" aria-label="Controls">
      <button id="startBtn" title="Insert 1 crore entries">Start Insert</button>
      <button id="cancelBtn" title="Cancel insertion" style="display:none;">Cancel</button>
      <button id="deleteBtn" title="Delete database">Delete Database</button>
      <button id="exportBtn" title="Export data">Export Data</button>
      <progress id="progressBar" max="100" value="0" aria-label="Insertion progress"></progress>
    </div>
    <p id="status" aria-live="polite" aria-atomic="true">Status: Ready</p>
    <p id="totalTime" aria-live="polite" aria-atomic="true"></p>
    <div id="logDiv" aria-live="polite" aria-atomic="true" tabindex="0" style="max-height:120px; overflow:auto;"></div>

    <div id="paginationBar" aria-label="Pagination">
      <button id="firstPage" disabled aria-label="First page">¬´ First</button>
      <button id="prevPage" disabled aria-label="Previous page">‚Äπ Prev</button>
      <span id="pageInfo" aria-live="polite" aria-atomic="true">Page 0 / 0</span>
      <button id="nextPage" disabled aria-label="Next page">Next ‚Ä∫</button>
      <button id="lastPage" disabled aria-label="Last page">Last ¬ª</button>
    </div>

    <div id="dataContainer" aria-live="polite" aria-atomic="true" tabindex="0" style="max-height: 250px; overflow:auto;"></div>
  </section>

  <!-- Tools Section -->
  <section id="toolsPage" role="region" aria-live="polite" aria-atomic="true" tabindex="0" hidden>
    <h2>Tools Used</h2>
    <p>...</p>
    <ul>
      <li>IndexedDB for offline storage</li>
      <li>Web Workers</li>
      <li>Service Worker (PWA)</li>
      <li>Modern Web tech (HTML5, CSS3, JS)</li>
      <li>AI-assisted tools</li>
    </ul>
  </section>

  <!-- Toast Notification -->
  <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true"></div>

  <!-- Scroll to Top Button -->
  <button id="goTop" aria-label="Scroll to top" role="button" tabindex="0" style="display:none;">
    <img src="icon-192.png" alt="Go to top" class="goTopImage" style="width:48px; height:48px;"/>
  </button>

  <!-- Footer -->
  <footer id="footer" role="contentinfo" aria-label="Footer">
    <p>¬© 2025 Sandeep Miriyala - Developed with AI assistance</p>
  </footer>

  <script src="main.js" defer></script>
  <script>
    // PWA Install Prompt control (existing, with new logic to hide if already installed)
    (function(){
      const menuInstallBtn = document.getElementById("menuInstall");
      const installPopup = document.getElementById("installPopup");
      const installPopupBtn = document.getElementById("installPopupBtn");
      const installPopupClose = document.getElementById("closeInstallPopup");
      const installText = document.getElementById("installText");
      let deferredPrompt;

      // Detect if app is already installed (iOS & others)
      function isAppInstalled() {
        return (window.matchMedia('(display-mode: standalone)').matches) || window.navigator.standalone === true;
      }

      window.addEventListener('load', () => {
        if (isAppInstalled()) {
          if(menuInstallBtn) menuInstallBtn.style.display = 'none';
        }
      });

      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        if (menuInstallBtn && !isAppInstalled()) {
          menuInstallBtn.style.display = 'inline-block';
        }
      });

      if (menuInstallBtn) {
        menuInstallBtn.addEventListener('click', () => {
          if(isAppInstalled()){
            menuInstallBtn.style.display = 'none';
            return;
          }
          installPopup.classList.add('active');
          if (deferredPrompt) {
            installText.textContent = 'Install this app for a better experience.';
            installPopupBtn.style.display = 'inline-block';
          } else if (/iphone|ipad|ipod/i.test(navigator.userAgent)) {
            installText.innerHTML = 'On iPhone/iPad, tap the Share icon and then "Add to Home Screen".';
            installPopupBtn.style.display = 'none';
          } else {
            installText.textContent = "Use your browser menu's 'Add to Home Screen'";
            installPopupBtn.style.display = 'none';
          }
        });
      }

      if (installPopupBtn) {
        installPopupBtn.addEventListener('click', async () => {
          if (!deferredPrompt) return;
          installPopup.classList.remove('active');
          deferredPrompt.prompt();
          const choiceResult = await deferredPrompt.userChoice;
          if(choiceResult.outcome === 'accepted' && menuInstallBtn){
            menuInstallBtn.style.display = 'none';
          }
          deferredPrompt = null;
        });
      }

      if (installPopupClose) {
        installPopupClose.addEventListener('click', () => {
          installPopup.classList.remove('active');
        });
      }

      document.addEventListener('click', (event) => {
        if(installPopup.classList.contains('active') && !installPopup.contains(event.target) && event.target !== menuInstallBtn){
          installPopup.classList.remove('active');
        }
      });

      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').then(() => {
          console.log('Service Worker registered');
        }).catch((err) => {
          console.error('Service Worker registration failed:', err);
        });
      }
    })();
  </script>

</body>
</html>
